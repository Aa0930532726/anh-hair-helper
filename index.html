<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ANH é«®å‹å»ºè­°å°å¹«æ‰‹</title>
  <style>
    :root{
      --bg:#0b0f1a;
      --card:#111827;
      --card2:#0f172a;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --brand:#fbbf24; /* é»ƒ */
      --line:#22c55e;
      --danger:#ef4444;
      --border:rgba(255,255,255,.08);
      --shadow:0 18px 60px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Microsoft JhengHei","PingFang TC",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 20% 10%, rgba(251,191,36,.12), transparent 55%),
                  radial-gradient(900px 500px at 80% 30%, rgba(34,197,94,.10), transparent 55%),
                  linear-gradient(180deg, #070a12, #0b0f1a);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
    }
    .wrap{width:min(980px, 100%);}
    .top{
      display:flex; gap:14px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap;
      margin-bottom:14px;
    }
    .title{
      padding:18px 18px 10px;
    }
    h1{
      margin:0 0 8px;
      letter-spacing:.5px;
      font-size:clamp(22px, 3.2vw, 34px);
    }
    .sub{
      margin:0;
      color:var(--muted);
      line-height:1.6;
      font-size:15px;
    }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      padding:10px 12px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      border-radius:999px;
      box-shadow: var(--shadow);
    }
    .badge b{color:var(--brand)}
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 880px){
      .grid{grid-template-columns: 420px 1fr;}
    }
    .card{
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding:16px 16px 12px;
      background: linear-gradient(90deg, rgba(251,191,36,.12), rgba(34,197,94,.10));
      border-bottom:1px solid var(--border);
    }
    .card .hd h2{
      margin:0;
      font-size:18px;
      letter-spacing:.3px;
    }
    .card .bd{padding:16px;}
    .row{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      margin-bottom:12px;
    }
    .field{
      border:1px solid var(--border);
      border-radius: 14px;
      padding:10px 12px;
      background: rgba(0,0,0,.18);
    }
    .field label{
      display:block;
      color: var(--muted);
      font-size:13px;
      margin-bottom:6px;
    }
    select{
      width:100%;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(17,24,39,.75);
      color: var(--text);
      outline:none;
      font-size:15px;
    }
    .btn{
      width:100%;
      padding:14px 14px;
      border-radius: 14px;
      border:0;
      cursor:pointer;
      font-weight:800;
      font-size:16px;
      letter-spacing:.6px;
      background: linear-gradient(90deg, var(--brand), #f59e0b);
      color:#111827;
      box-shadow: 0 12px 35px rgba(245,158,11,.25);
      transition: transform .08s ease, filter .2s ease;
    }
    .btn:hover{filter:brightness(1.02)}
    .btn:active{transform: translateY(1px)}
    .lineBtn{
      display:flex; align-items:center; justify-content:center; gap:10px;
      margin-top:10px;
      width:100%;
      padding:12px 14px;
      border-radius: 14px;
      border:1px solid rgba(34,197,94,.25);
      background: rgba(34,197,94,.12);
      color: var(--text);
      text-decoration:none;
      font-weight:700;
    }
    .lineDot{
      width:10px;height:10px;border-radius:50%;
      background: var(--line);
      box-shadow: 0 0 0 6px rgba(34,197,94,.15);
    }

    .out{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(0,0,0,.10));
      border:1px solid var(--border);
      border-radius: var(--radius);
      padding:16px;
      min-height: 360px;
    }
    .out h3{
      margin:0 0 10px;
      font-size:18px;
      color: #fff;
    }
    .section{
      margin-top:12px;
      padding:12px;
      border-radius: 14px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.06);
    }
    .section h4{
      margin:0 0 8px;
      font-size:14px;
      letter-spacing:.4px;
      color: #fef3c7;
    }
    ul{margin:0; padding-left:18px; color:var(--text); line-height:1.75}
    .muted{color:var(--muted)}
    .warn{
      margin-top:12px;
      padding:12px;
      border-radius:14px;
      border:1px solid rgba(239,68,68,.25);
      background: rgba(239,68,68,.10);
      color:#fee2e2;
      line-height:1.7;
    }
    .pill{
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
      color: var(--muted);
      font-size:12px;
      margin-right:6px;
      margin-bottom:6px;
    }
    .copy{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.04);
      color: var(--text);
      cursor:pointer;
      font-weight:700;
      width:100%;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="title">
        <h1>ANH é«®å‹å»ºè­°å°å¹«æ‰‹</h1>
        <p class="sub">å›ç­”å¹¾å€‹å•é¡Œï¼Œæˆ‘å€‘å¹«ä½ æ•´ç†ã€Œå‰ª / ç‡™ / æŸ“ã€æœ€é©åˆçš„æ–¹å‘ï¼ˆåå¯¦æˆ°ï¼Œä¸è¬›ç„çš„ï¼‰ã€‚</p>
      </div>
      <div class="badge">
        <span class="muted">åº—å®¶ï¼š</span><b>ANH</b>
        <span class="muted">ï½œä¸€éµç”¢å‡ºå»ºè­°</span>
      </div>
    </div>

    <div class="grid">
      <!-- å·¦ï¼šè¡¨å–® -->
      <div class="card">
        <div class="hd"><h2>å¿«é€Ÿé¸æ“‡</h2></div>
        <div class="bd">
          <div class="row">
            <div class="field">
              <label>ä½ çš„è†šè‰²</label>
              <select id="skin">
                <option value="fair">åç™½ï¼ˆå†·ç™½ / ç²‰ç™½ / æ˜“æ³›ç´…ï¼‰</option>
                <option value="neutral">è‡ªç„¶ï¼ˆé»ƒç™½ä¹‹é–“ / å¤§å¤šæ•¸äºæ´²è†šï¼‰</option>
                <option value="tan">å¥åº· / å°éº¥ / åé»‘</option>
              </select>
            </div>

            <div class="field">
              <label>ç›®å‰é«®æ³</label>
              <select id="hairCond">
                <option value="healthy">å¥åº·ï¼ˆå½ˆæ€§OK / ä¸å¡æ‰‹ï¼‰</option>
                <option value="dry">ä¹¾ç‡¥ï¼ˆæ¯›èº / æ‰“çµï¼‰</option>
                <option value="damaged">å—æï¼ˆæ–·è£‚ / å½ˆæ€§å·® / æ˜“ç³Šï¼‰</option>
              </select>
            </div>

            <div class="field">
              <label>ç›®å‰é•·åº¦</label>
              <select id="length">
                <option value="short">çŸ­é«®ï¼ˆè€³ä¸‹ï½ä¸‹å·´ï¼‰</option>
                <option value="medium">ä¸­é•·ï¼ˆé–éª¨é™„è¿‘ï¼‰</option>
                <option value="long">é•·é«®ï¼ˆèƒ¸ä¸Šï½æ›´é•·ï¼‰</option>
              </select>
            </div>

            <div class="field">
              <label>æ˜¯å¦æ¼‚é</label>
              <select id="bleached">
                <option value="no">æ²’æœ‰</option>
                <option value="yes">æœ‰ï¼ˆæ¼‚é / æ›¾æ¼‚é€€ï¼‰</option>
              </select>
            </div>

            <div class="field">
              <label>è‡‰å‹</label>
              <select id="face">
                <option value="oval">éµè›‹è‡‰</option>
                <option value="round">åœ“è‡‰</option>
                <option value="square">æ–¹è‡‰</option>
                <option value="long">é•·è‡‰</option>
                <option value="heart">å¿ƒå½¢è‡‰ï¼ˆä¸Šå¯¬ä¸‹å°–ï¼‰</option>
              </select>
            </div>

            <div class="field">
              <label>æƒ³è¦çš„æ„Ÿè¦º</label>
              <select id="vibe">
                <option value="easy">è‡ªç„¶å¥½æ•´ç†ï¼ˆé€šå‹¤/ä¸æƒ³èŠ±æ™‚é–“ï¼‰</option>
                <option value="soft">æº«æŸ”é¡¯æ°£è³ªï¼ˆæŸ”ã€ä»™ã€éŸ“ç³»ï¼‰</option>
                <option value="cool">é…·å¸¥æœ‰å€‹æ€§ï¼ˆç·šæ¢ã€ä¹¾æ·¨ä¿è½ï¼‰</option>
                <option value="fashion">æ™‚é«¦é«˜ç´šæ„Ÿï¼ˆéœ§æ„Ÿ/å±¤æ¬¡/æ°›åœï¼‰</option>
                <option value="volume">æƒ³è¦è“¬é¬†ï¼ˆæ‰å¡Œæ•‘æ˜Ÿï¼‰</option>
              </select>
            </div>
          </div>

          <button class="btn" id="go">æŸ¥çœ‹å»ºè­°</button>

          <a class="lineBtn" href="https://lin.ee/qzY4RIL" target="_blank" rel="noopener">
            <span class="lineDot"></span>
            åŠ å…¥å®˜æ–¹ LINEï¼ˆé ç´„/è©¢å•ï¼‰
          </a>

          <button class="copy" id="copyBtn">ä¸€éµè¤‡è£½å»ºè­°ï¼ˆè²¼çµ¦å®¢äººï¼‰</button>
          <p class="muted" style="margin:10px 0 0; font-size:12px;">
            å°æé†’ï¼šæ­¤å·¥å…·æ˜¯æ–¹å‘å»ºè­°ï¼Œæœ€å¾Œä»ä»¥è¨­è¨ˆå¸«ç¾å ´åˆ¤æ–·é«®æ³èˆ‡é«®æµç‚ºæº–ã€‚
          </p>
        </div>
      </div>

      <!-- å³ï¼šçµæœ -->
      <div class="card">
        <div class="hd"><h2>å»ºè­°çµæœ</h2></div>
        <div class="bd">
          <div class="out" id="out">
            <h3>è«‹å…ˆé¸å¥½æ¢ä»¶ â†’ æŒ‰ã€ŒæŸ¥çœ‹å»ºè­°ã€</h3>
            <div class="section">
              <h4>æœƒè¼¸å‡ºä»€éº¼ï¼Ÿ</h4>
              <ul>
                <li>æŸ“é«®ï¼šé©åˆè‰²ç³»ã€é¿é›·è‰²ã€æ˜åº¦/éœ§æ„Ÿæ–¹å‘</li>
                <li>å‰ªé«®ï¼šè‡‰å‹ä¿®é£¾é‡é»ã€ç€æµ·èˆ‡å±¤æ¬¡å»ºè­°</li>
                <li>ç‡™é«®ï¼šæ²åº¦å¤§å°ã€æ²è½é»ã€é«®æ³é™åˆ¶</li>
                <li>ç¶­è­·ï¼šå›å®¶æ€éº¼æ•´ç†ã€å¤šä¹…è£œæŸ“/ä¿®å‰ª</li>
              </ul>
            </div>
            <div class="warn">
              è‹¥ã€Œæœ‰æ¼‚é + å—æã€ï¼šé€šå¸¸å…ˆä¿®è­·ï¼Œä¸æ€¥è‘—ç‡™ï¼›æŸ“è‰²ä¹Ÿæœƒå»ºè­°é™æ˜åº¦ã€é¿é–‹å¤ªå†·å¤ªç°ã€‚
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  const $ = (id)=>document.getElementById(id);

  const skinMap = {
    fair: {
      title: "åç™½è†šè‰²",
      dyeBest: [
        "å†·èŒ¶è‰²ï¼šç°èŒ¶ / è—ç°èŒ¶ï¼ˆä¹¾æ·¨é¡¯ç™½ï¼‰",
        "éœ§æ„Ÿå†·èª¿ï¼šéœ§ç°ã€éœ§è—ã€éœ§ç´«ï¼ˆé«˜ç´šæ„Ÿï¼‰",
        "è—é»‘ / è—ç´«é»‘ï¼ˆé¡¯ç™½ã€é«®è³ªçœ‹èµ·ä¾†æ›´å¥½ï¼‰",
        "å†·ç²‰æ£• / ç²‰æ£•ï¼ˆæƒ³æº«æŸ”ä½†ä¸é¡¯é»ƒï¼‰"
      ],
      dyeAvoid: [
        "æ©˜æ£• / éŠ…è‰²ï¼ˆå®¹æ˜“é¡¯é»ƒã€é¡¯è€ï¼‰",
        "éæš–é‡‘è‰²ï¼ˆè‹¥è‡‰æ˜“æ³›ç´…æ›´ä¸å»ºè­°ï¼‰"
      ],
      rule: "è‹¥è‡‰å®¹æ˜“æ³›ç´…ï¼šå„ªå…ˆé¸å†·èª¿ï¼ˆç°èŒ¶/è—é»‘/å†·æ£•ï¼‰ï¼Œé¿å…æ©˜ç´…éŠ…ã€‚"
    },
    neutral: {
      title: "è‡ªç„¶è†šè‰²",
      dyeBest: [
        "å¥¶èŒ¶æ£• / å¯å¯æ£•ï¼ˆæœ€å®‰å…¨è€çœ‹ï¼‰",
        "äºéº»æ£•ï¼ˆæƒ³äº®ä¸€é»ä½†ä¸æµ®èª‡ï¼‰",
        "é»‘èŒ¶è‰² / æ·±éœ§æ£•ï¼ˆä¸Šç­æ—ã€é¡¯é«®è³ªï¼‰",
        "å¾®æš–å·§å…‹åŠ›ï¼ˆæ°£è‰²æ›´æœ‰ç²¾ç¥ï¼‰"
      ],
      dyeAvoid: [
        "å¤ªéŠ€å¤ªç°ï¼ˆè‡‰å®¹æ˜“é¡¯æš—ã€é¡¯ç–²æ…‹ï¼‰",
        "å¤ªäº®é‡‘ï¼ˆå°æ¯”éå¼·æœƒé¡¯åœŸï¼‰"
      ],
      rule: "è‡ªç„¶è†šè‰²å¯å†·å¯æš–ï¼Œä½†è¦çœ‹ä½ æƒ³èµ°ï¼šé¡¯ç™½ï¼ˆå†·ï¼‰é‚„æ˜¯é¡¯æ°£è‰²ï¼ˆæš–ï¼‰ã€‚"
    },
    tan: {
      title: "å¥åº·/åé»‘è†šè‰²",
      dyeBest: [
        "å·§å…‹åŠ› / æ·±å’–ï¼ˆç©©ã€é¡¯è³ªæ„Ÿï¼‰",
        "æš–æ£• / ç„¦ç³–æ£•ï¼ˆé¡¯æ°£è‰²ã€ä¸é¡¯ç°ï¼‰",
        "ç´…æ£• / é…’ç´…ï¼ˆæœ‰ç²¾ç¥ã€æœ‰å­˜åœ¨æ„Ÿï¼‰",
        "æ·±å¥¶èŒ¶æ£•ï¼ˆè¦äº®ä¹Ÿè¦æœ‰æ·±åº¦ï¼‰"
      ],
      dyeAvoid: [
        "éœ§ç° / éŠ€ç°ï¼ˆå®¹æ˜“é¡¯ç°é«’ã€è‡‰æ›´æš—ï¼‰",
        "æ·ºé‡‘ï¼ˆå°æ¯”å¤ªå¼·ï¼Œå®¹æ˜“é¡¯çªå…€ï¼‰"
      ],
      rule: "åé»‘è†šè‰²æœ€é‡è¦æ˜¯ã€Œæ·±åº¦ã€ï¼Œå¯§é¡˜æ·±ä¸€éšä¹Ÿä¸è¦ç°ç™½æ·ºé‡‘ã€‚"
    }
  };

  const faceMap = {
    oval: {
      title:"éµè›‹è‡‰",
      cut: [
        "ä½ æ˜¯æœ€å¥½ç™¼æ®çš„è‡‰å‹ï¼šå¯ä¾ã€Œæ°£è³ª/è·æ¥­ã€é¸é¢¨æ ¼",
        "æƒ³é¡¯ç²¾ç·»ï¼šä¹¾æ·¨ç·šæ¢ï¼‹ä¸­ä½å±¤æ¬¡",
        "æƒ³é¡¯æº«æŸ”ï¼šå…«å­—ç€æµ·ï¼‹æŸ”å±¤æ¬¡ï¼‹å¾®æ²"
      ],
      bang: ["ç©ºæ°£ç€æµ·ã€å…«å­—ç€æµ·ã€å´åˆ†éƒ½å¯ï¼ˆçœ‹é¡é ­èˆ‡é«®æµï¼‰"],
      avoid: ["ä¸æ˜¯ä¸èƒ½å‰ªï¼Œè€Œæ˜¯é¿å…ã€Œæ²’ç›®çš„çš„äº‚å‰ªã€ï¼šè«‹é¸ä¸€å€‹é¢¨æ ¼ä¸»è»¸"]
    },
    round: {
      title:"åœ“è‡‰",
      cut: [
        "ç›®æ¨™ï¼šæ‹‰é•·è‡‰å‹ã€æ¸›å°‘æ©«å‘è†¨è„¹",
        "å»ºè­°ï¼šä¸­é•·ä»¥ä¸Šæ›´ä¿®é£¾ï¼›é«®æ ¹é©åº¦è“¬é¬†ï¼›å…©å´ç•™ç·šæ¢é®è‡‰é °"
      ],
      bang: ["å…«å­—ç€æµ·/å´åˆ†æœ€ä¿®é£¾ï¼›ç€æµ·ä¸è¦åšåˆ°åˆ‡æ–·è‡‰å‹"],
      avoid: ["åšé½Šç€æµ·ã€ä¸‹å·´é½ŠçŸ­é«®ã€å…©å´è²¼é ­çš®ï¼ˆæœƒæ›´åœ“ï¼‰"]
    },
    square: {
      title:"æ–¹è‡‰",
      cut: [
        "ç›®æ¨™ï¼šæŸ”åŒ–ä¸‹é¡è§’ã€é¿å…ç¡¬ç›´ç·šæ¢",
        "å»ºè­°ï¼šä¸­å±¤æ¬¡ï¼‹Sç·šæ¢ï¼›è¼ªå»“è¦æœ‰å¼§åº¦"
      ],
      bang: ["å´åˆ†ã€å¼§å½¢ç€æµ·ã€å…«å­—ç€æµ·ï¼ˆä¿®é£¾ç¨œè§’ï¼‰"],
      avoid: ["ä¸€åˆ€åˆ‡ç›´ç·šã€å¤ªç¡¬çš„å¹³é½Šç·šæ¢ï¼ˆç¨œè§’æ›´æ˜é¡¯ï¼‰"]
    },
    long: {
      title:"é•·è‡‰",
      cut: [
        "ç›®æ¨™ï¼šå¢åŠ æ©«å‘æ¯”ä¾‹ã€ç¸®çŸ­ç¸±å‘è¦–è¦º",
        "å»ºè­°ï¼šé–éª¨ï½ä¸­é•·æœ€å‰›å¥½ï¼›å¢åŠ æ©«å‘æ²åº¦æˆ–è¼ªå»“åšåº¦"
      ],
      bang: ["ç©ºæ°£ç€æµ·/æ³•å¼ç€æµ·ï¼ˆå¹«è‡‰è®ŠçŸ­ï¼‰"],
      avoid: ["è¶…é•·ç›´é«®ï¼‹é«˜å±¤æ¬¡å¾€ä¸‹æ‹‰ï¼ˆè‡‰æœƒæ›´é•·ï¼‰"]
    },
    heart: {
      title:"å¿ƒå½¢è‡‰",
      cut: [
        "ç›®æ¨™ï¼šå¹³è¡¡ä¸Šå¯¬ä¸‹å°–ï¼Œè®“ä¸‹åŠéƒ¨æ›´æœ‰ä»½é‡",
        "å»ºè­°ï¼šä¸‹å·´åˆ°é–éª¨çš„è¼ªå»“åšåº¦ã€ä¸‹ç·£å¾®å½ï¼Œå…©å´åˆ¥å¤ªè²¼"
      ],
      bang: ["æŸ”çš„å´åˆ†æˆ–å…«å­—ç€æµ·ï¼ˆæ¸›å°‘ä¸ŠåŠéƒ¨å¯¬æ„Ÿï¼‰"],
      avoid: ["é ­é ‚å¤ªè“¬ï¼‹ä¸‹åŠéƒ¨å¤ªè–„ï¼ˆä¸Šæ›´å¯¬ã€ä¸‹æ›´å°–ï¼‰"]
    }
  };

  const vibeMap = {
    easy: {
      title:"è‡ªç„¶å¥½æ•´ç†",
      cutKey: ["ä½ï½ä¸­å±¤æ¬¡ï¼ˆä¸æ¯›èºï¼‰", "è¼ªå»“ä¹¾æ·¨ã€å°‘é‡æ‰“è–„"],
      permKey: ["å¾®å½/é«®å°¾å½æˆ–Cå½ï¼ˆå¥½å¹æ•´ï¼‰", "ç”·ç”Ÿå¯åšç´‹ç†ç‡™/å®šä½ç‡™"],
      dyeKey: ["é»‘èŒ¶/æ·±éœ§æ£•/å¥¶èŒ¶æ£•ï¼ˆæ‰è‰²ä¹Ÿä¸å°·å°¬ï¼‰"]
    },
    soft: {
      title:"æº«æŸ”é¡¯æ°£è³ª",
      cutKey: ["å…«å­—ç€æµ·ï¼‹æŸ”å±¤æ¬¡", "è‡‰å‘¨ç¢é«®ä¿®é£¾"],
      permKey: ["æŸ”Sæ²/éŸ“ç³»å¤§å½", "æ²è½é»åœ¨ä¸­æ®µä»¥ä¸‹æ›´æº«æŸ”"],
      dyeKey: ["å¯å¯æ£•/ç²‰æ£•/å¥¶èŒ¶æ£•ï¼ˆåæŸ”ï¼‰"]
    },
    cool: {
      title:"é…·å¸¥æœ‰å€‹æ€§",
      cutKey: ["ç·šæ¢ä¹¾æ·¨ã€è¼ªå»“ä¿è½", "å¯åšå±¤æ¬¡æ›´æ˜ç¢ºçš„ç‹¼å°¾/ç¢å‰ªï¼ˆçœ‹é«®é‡ï¼‰"],
      permKey: ["ç´‹ç†ç‡™/ç·šæ¢æ„Ÿæ²åº¦ï¼ˆä¸è¦å¤ªæ•£ï¼‰"],
      dyeKey: ["è—é»‘/æ·±å’–/å†·èŒ¶ï¼ˆä¹¾æ·¨æœ‰æ…‹åº¦ï¼‰"]
    },
    fashion: {
      title:"æ™‚é«¦é«˜ç´šæ„Ÿ",
      cutKey: ["å±¤æ¬¡è¦åšå‡ºç©ºæ°£æ„Ÿï¼ˆä½†ä¸æ¯›ï¼‰", "è¼ªå»“è¦æœ‰æµå‹•ç·šæ¢"],
      permKey: ["å¤§å½ï¼‹è“¬é¬†åº¦ï¼ˆé ­å‹æ›´æ¼‚äº®ï¼‰"],
      dyeKey: ["éœ§æ„ŸèŒ¶è‰²/éœ§æ£•/å†·äºéº»ï¼ˆé«®æ³å¤ æ‰åšï¼‰"]
    },
    volume: {
      title:"æƒ³è¦è“¬é¬†",
      cutKey: ["é«®æ ¹é«˜åº¦ï¼‹çµæ§‹å±¤æ¬¡", "é¿å…å…©å´è²¼é ­çš®"],
      permKey: ["é«®æ ¹ç‡™/å®šä½ç‡™/ç´‹ç†ç‡™ï¼ˆä¾é«®æ³ï¼‰"],
      dyeKey: ["æ·±éœ§æ£•/å·§å…‹åŠ›ï¼ˆé¡¯é«®é‡ã€é¡¯é«®è³ªï¼‰"]
    }
  };

  function conditionRules(cond, bleached){
    const warn = [];
    const must = [];
    const ok = [];

    if(bleached === "yes"){
      warn.push("ä½ æœ‰æ¼‚éï¼šé«®çµ²çµæ§‹æ¯”è¼ƒç©ºï¼Œç‡™é«®é¢¨éšªâ†‘ï¼ŒæŸ“å†·ç°é¡ä¹Ÿæ›´åƒé«®æ³ã€‚");
      must.push("å»ºè­°ï¼šå…ˆåšä¸€æ¬¡çµæ§‹ä¿®è­·/è£œè›‹ç™½ï¼‹é–æ°´ï¼Œå†è©•ä¼°ç‡™æˆ–é«˜ç´šéœ§æ„Ÿè‰²ã€‚");
      ok.push("æŸ“è‰²æ–¹å‘ï¼šä»¥ã€æ·±åº¦ã€ç‚ºä¸»ï¼ˆé»‘èŒ¶/æ·±éœ§æ£•/æ·±å’–ï¼‰ï¼Œæ‰è‰²æ¯”è¼ƒä¸å°·å°¬ã€‚");
    }

    if(cond === "dry"){
      warn.push("ä½ ç›®å‰åä¹¾ï¼šç´°æ²/å°æ²æœƒæ”¾å¤§æ¯›èºï¼›éäº®è‰²ä¹Ÿæ›´é¡¯ä¹¾ã€‚");
      must.push("å»ºè­°ï¼šé¸ã€ä¸­å¤§æ²ã€æˆ–ã€å¾®å½ã€ï¼Œä¸¦é™ä½æ˜åº¦ã€åŠ å¼·å…‰æ¾¤æ„Ÿã€‚");
      ok.push("æ•´ç†ï¼šè­·é«®æ²¹ï¼‹ç†±é¢¨é †å¹ï¼Œæœ€å¾Œå†·é¢¨å®šå‹ï¼Œæ¯›èºæœƒå°‘å¾ˆå¤šã€‚");
    }

    if(cond === "damaged"){
      warn.push("ä½ ç›®å‰å—æï¼šä¸å»ºè­°ç›´æ¥ç‡™ï¼ˆå°¤å…¶ç´°æ²/ç†±ç‡™ï¼‰ï¼Œå®¹æ˜“æ–·è£‚æˆ–ç³Šæ‰ã€‚");
      must.push("å»ºè­°ï¼šå…ˆä¿®è­· 2~4 é€±ï¼ˆæˆ–1~2æ¬¡æ·±å±¤ï¼‰ï¼Œå†è«‡ç‡™ï¼›æŸ“è‰²ä¹Ÿå»ºè­°é™æ˜åº¦ã€‚");
      ok.push("å¯åšï¼šä¿®å‰ªï¼‹è¼ªå»“æ•´ç†ï¼‹æ·±è‰²ç³»ï¼ˆé»‘èŒ¶/æ·±å’–/å·§å…‹åŠ›ï¼‰å…ˆæŠŠé«®è³ªè§€æ„Ÿæ•‘å›ä¾†ã€‚");
    }

    if(cond === "healthy" && bleached === "no"){
      ok.push("é«®æ³å¥åº·ä¸”æœªæ¼‚ï¼šå¯åšçš„é¸é …æœ€å¤šï¼ˆæŸ“/ç‡™/å‰ªéƒ½å¥½ç™¼æ®ï¼‰ã€‚");
    }

    return {warn, must, ok};
  }

  function permSuggest(face, length, vibe, cond, bleached){
    const res = [];
    // è‡‰å‹å¤§æ–¹å‘
    if(face === "round"){
      res.push("æ²åº¦å»ºè­°ï¼šä¸­å¤§æ²/å¤§å½ï¼Œæ²å¾ã€ä¸­æ®µä»¥ä¸‹ã€é–‹å§‹ï¼Œé¿å…å…©å´çˆ†ç‚¸ã€‚");
    }else if(face === "square"){
      res.push("æ²åº¦å»ºè­°ï¼šæŸ”Sæ²ï¼Œå¼§åº¦è¦æŸ”ï¼Œä¸è¦éŠ³åˆ©æŠ˜ç·šã€‚");
    }else if(face === "long"){
      res.push("æ²åº¦å»ºè­°ï¼šå¢åŠ æ©«å‘æ„Ÿï¼ˆå¤§å½/å¤–ç¿»è¼ªå»“ï¼‰ï¼Œä¸è¦åªå¾€ä¸‹å‚ã€‚");
    }else if(face === "heart"){
      res.push("æ²åº¦å»ºè­°ï¼šä¸‹åŠéƒ¨å¤šä¸€é»ä»½é‡ï¼ˆé«®å°¾å½/ä¸‹ç·£å¤§å½ï¼‰ï¼Œå¹³è¡¡ä¸Šå¯¬ä¸‹å°–ã€‚");
    }else{
      res.push("æ²åº¦å»ºè­°ï¼šçœ‹é¢¨æ ¼ä¸»è»¸æ±ºå®šï¼ˆå¾®å½ï¼è‡ªç„¶ï¼›å¤§å½ï¼æ°›åœï¼›ç´‹ç†ï¼ä¿è½ï¼‰ã€‚");
    }

    // é•·åº¦è£œå……
    if(length === "short"){
      res.push("çŸ­é«®ç‡™ï¼šä»¥ã€ç´‹ç†ç‡™/å®šä½ç‡™/é«®å°¾å½ã€ç‚ºä¸»ï¼Œæ¯”å¤§æ²æ›´å¥½æ•´ç†ã€‚");
    }else if(length === "medium"){
      res.push("é–éª¨é•·åº¦ï¼šæœ€é©åˆã€éŸ“ç³»å¤§å½ã€ï¼Œå¥½çœ‹åˆå¥½æ•´ç†ã€‚");
    }else{
      res.push("é•·é«®ç‡™ï¼šå»ºè­°å¤§å½ï¼‹å±¤æ¬¡ï¼Œä¸ç„¶å®¹æ˜“è®Šåšé‡æˆ–åªå‰©æ¯›èºã€‚");
    }

    // é«®æ³é™åˆ¶
    if(bleached === "yes" || cond === "damaged"){
      res.push("âš ï¸ è‹¥æ¼‚éæˆ–å—æï¼šå…ˆä¿®è­·å†ç‡™ï¼›çœŸçš„è¦ç‡™è«‹é¸ä½é¢¨éšªã€å¾®å½/é«®å°¾å½ã€ã€‚");
    }else if(cond === "dry"){
      res.push("åä¹¾ï¼šé¿å…ç´°æ²ï¼›é¸ä¸­å¤§æ²ï¼‹å…‰æ¾¤æ„ŸæŸ“è‰²æœƒæ›´åƒã€é«®è³ªè®Šå¥½ã€ã€‚");
    }

    // é¢¨æ ¼
    const v = vibeMap[vibe];
    res.push("ä¾ä½ æƒ³è¦çš„æ„Ÿè¦ºï¼š" + v.permKey.join("ã€") + "ã€‚");

    return res;
  }

  function cutSuggest(face, length, vibe){
    const res = [];
    const f = faceMap[face];
    const v = vibeMap[vibe];

    res.push(...f.cut);
    res.push("ç€æµ·å»ºè­°ï¼š" + f.bang.join(" / "));
    res.push("é¿é›·ï¼š" + f.avoid.join(" / "));
    res.push("ä¾ä½ æƒ³è¦çš„æ„Ÿè¦ºï¼ˆå‰ªé«®æ–¹å‘ï¼‰ï¼š" + v.cutKey.join("ã€") + "ã€‚");

    // é•·åº¦å°è£œå……
    if(face === "round" && length === "short"){
      res.push("åœ“è‡‰çŸ­é«®æƒ³å¥½çœ‹ï¼šè«‹ä¿ç•™å…©å´ä¿®é£¾ç·šæ¢ï¼‹é«®æ ¹é«˜åº¦ï¼Œé¿å…ä¸‹å·´é½Šä¸€åˆ€åˆ‡ã€‚");
    }
    if(face === "long" && length === "long"){
      res.push("é•·è‡‰é•·é«®ï¼šå»ºè­°åŠ ç€æµ·æˆ–è¼ªå»“å½åº¦ï¼Œé¿å…ã€è¶…é•·ç›´ã€æŠŠè‡‰æ‹‰æ›´é•·ã€‚");
    }
    return res;
  }

  function dyeSuggest(skin, vibe, cond, bleached){
    const res = [];
    const s = skinMap[skin];
    const v = vibeMap[vibe];

    res.push("è†šè‰²æ–¹å‘ï¼ˆ" + s.title + "ï¼‰ï¼š");
    res.push("âœ… é©åˆè‰²ç³»ï¼š");
    s.dyeBest.forEach(x=>res.push(" - " + x));
    res.push("â›” é¿é›·è‰²ï¼š");
    s.dyeAvoid.forEach(x=>res.push(" - " + x));
    res.push("è¨­è¨ˆå¸«é‡é»ï¼š" + s.rule);

    // é¢¨æ ¼è£œå……
    res.push("ä¾ä½ æƒ³è¦çš„æ„Ÿè¦ºï¼ˆæŸ“é«®æ–¹å‘ï¼‰ï¼š" + v.dyeKey.join("ã€") + "ã€‚");

    // é«®æ³é™åˆ¶
    if(bleached === "yes"){
      res.push("âš ï¸ æ¼‚éï¼šåšéœ§ç°/éŠ€ç°/å†·éœ§è‰²æœƒæ›´åƒé«®æ³ï¼Œè‹¥é«®è³ªä¸ç©©å»ºè­°å…ˆåšæ·±èŒ¶/æ·±éœ§æ£•ã€‚");
    }
    if(cond === "dry"){
      res.push("åä¹¾ï¼šå»ºè­°é™ä½æ˜åº¦ï¼‹å¢åŠ å…‰æ¾¤æ„Ÿï¼ˆå¯å¯/å·§å…‹åŠ›/æ·±éœ§æ£•æ›´åƒé«®è³ªè®Šå¥½ï¼‰ã€‚");
    }
    if(cond === "damaged"){
      res.push("å—æï¼šå…ˆé¸æ·±è‰²æ•‘è³ªæ„Ÿï¼ˆé»‘èŒ¶/æ·±å’–/å·§å…‹åŠ›ï¼‰ï¼Œä¸è¦ç¡¬ä¸Šé«˜æ˜åº¦æˆ–è¶…éœ§ç°ã€‚");
    }
    return res;
  }

  function maintainSuggest(cond, bleached){
    const res = [];
    res.push("å›å®¶æ•´ç†ï¼ˆç°¡å–®ç‰ˆï¼‰ï¼š");
    res.push(" - æ´—å¾Œå…ˆæ“¦ä¹¾ â†’ æŠ¹è­·é«®æ²¹/å…æ²–æ´— â†’ å¹åˆ° 8~9 æˆä¹¾å†å¡‘å‹ã€‚");
    res.push(" - è¦é †ï¼šé †è‘—æ¯›é±—ç‰‡æ–¹å‘å¹ï¼ˆä¸Šå¾€ä¸‹ï¼‰ï¼Œæœ€å¾Œå†·é¢¨å®šå‹ã€‚");

    if(bleached === "yes"){
      res.push("æ¼‚å¾Œç¶­è­·ï¼š");
      res.push(" - ç´«æ´—/çŸ¯è‰²æ´—é«®ç²¾ï¼šæ¯é€± 1~2 æ¬¡å³å¯ï¼Œåˆ¥å¤©å¤©ç”¨ã€‚");
      res.push(" - è£œæ°´ï¼‹è£œè›‹ç™½äº¤æ›¿ï¼ˆé¿å…åªè£œè›‹ç™½è®Šæ›´ç¡¬ï¼‰ã€‚");
    }
    if(cond === "dry"){
      res.push("ä¹¾ç‡¥ç¶­è­·ï¼š");
      res.push(" - ä½ æœ€éœ€è¦çš„æ˜¯ã€è£œæ°´ï¼‹é–æ°´ã€ï¼Œè­·é«®æ²¹è¦åœ¨åŠä¹¾æ™‚ä¸Šæ›´æœ‰æ•ˆã€‚");
    }
    if(cond === "damaged"){
      res.push("å—æç¶­è­·ï¼š");
      res.push(" - å…ˆæŠŠæ–·è£‚æ®µä¿®æ‰ä¸€é»ï¼Œä¿®è­·æ‰æœƒæœ‰æ•ˆï¼›é¿å…é«˜æº«å¤¾ç›´/æ²ã€‚");
    }

    res.push("å»ºè­°å›åº—é »ç‡ï¼š");
    res.push(" - ä¿®å‰ªï¼š6~10 é€±ä¸€æ¬¡ï¼ˆæƒ³ç¶­æŒå‹å°± 6~8 é€±ï¼‰ã€‚");
    res.push(" - è£œæŸ“ï¼š8~12 é€±ï¼ˆæ·±è‰²æ›´ä¹…ï¼Œæ·ºè‰²æ›´éœ€è¦è£œï¼‰ã€‚");
    return res;
  }

  function buildResult(){
    const skin = $("skin").value;
    const hairCond = $("hairCond").value;
    const length = $("length").value;
    const bleached = $("bleached").value;
    const face = $("face").value;
    const vibe = $("vibe").value;

    const condR = conditionRules(hairCond, bleached);
    const cutR = cutSuggest(face, length, vibe);
    const permR = permSuggest(face, length, vibe, hairCond, bleached);
    const dyeR = dyeSuggest(skin, vibe, hairCond, bleached);
    const maintR = maintainSuggest(hairCond, bleached);

    // tags
    const tags = [
      ["è†šè‰²", skinMap[skin].title],
      ["é«®æ³", {healthy:"å¥åº·", dry:"ä¹¾ç‡¥", damaged:"å—æ"}[hairCond]],
      ["é•·åº¦", {short:"çŸ­é«®", medium:"ä¸­é•·", long:"é•·é«®"}[length]],
      ["æ¼‚é", bleached==="yes"?"æœ‰æ¼‚é":"æ²’æ¼‚é"],
      ["è‡‰å‹", faceMap[face].title],
      ["é¢¨æ ¼", vibeMap[vibe].title]
    ].map(([k,v])=>`<span class="pill">${k}ï¼š${v}</span>`).join("");

    const warnBlock = (condR.warn.length || condR.must.length) ? `
      <div class="warn">
        <b>âš ï¸ ä½ çš„é«®æ³/æ¼‚é«®æ³¨æ„äº‹é …</b><br/>
        ${condR.warn.map(x=>`â€¢ ${x}`).join("<br/>")}
        ${condR.must.length?("<br/><br/><b>âœ… æœ€é‡è¦å…ˆåšï¼š</b><br/>"+condR.must.map(x=>`â€¢ ${x}`).join("<br/>")):""}
      </div>
    ` : "";

    const okBlock = condR.ok.length ? `
      <div class="section">
        <h4>ä½ ç¾åœ¨å¯ä»¥å®‰å¿ƒåšçš„æ–¹å‘</h4>
        <ul>${condR.ok.map(x=>`<li>${x}</li>`).join("")}</ul>
      </div>
    ` : "";

    const html = `
      <h3>ä½ çš„å°ˆå±¬å»ºè­°ï¼ˆå‰ª / ç‡™ / æŸ“ï¼‰</h3>
      <div style="margin:8px 0 4px;">${tags}</div>

      ${warnBlock}
      ${okBlock}

      <div class="section">
        <h4>âœ‚ï¸ å‰ªé«®ï¼ˆè‡‰å‹ä¿®é£¾ï¼‹å¥½æ•´ç†ï¼‰</h4>
        <ul>${cutR.map(x=>`<li>${x}</li>`).join("")}</ul>
      </div>

      <div class="section">
        <h4>ğŸŒ€ ç‡™é«®ï¼ˆæ²åº¦å¤§å°ï¼‹æ²è½é»ï¼‰</h4>
        <ul>${permR.map(x=>`<li>${x}</li>`).join("")}</ul>
      </div>

      <div class="section">
        <h4>ğŸ¨ æŸ“é«®ï¼ˆè†šè‰²é¡¯ç™½/é¡¯æ°£è‰²ï¼‹é¿é›·ï¼‰</h4>
        <div class="muted" style="margin-bottom:8px;">ï¼ˆä¸‹æ–¹æ˜¯æ¸…æ¥šåˆ—å‡ºï¼šé©åˆ / é¿é›· / åŸå› ï¼‰</div>
        <ul>${dyeR.map(x=>`<li>${x}</li>`).join("")}</ul>
      </div>

      <div class="section">
        <h4>ğŸ§´ ç¶­è­·ï¼†å›åº—é »ç‡ï¼ˆæœ€çœäº‹ç‰ˆæœ¬ï¼‰</h4>
        <ul>${maintR.map(x=>`<li>${x}</li>`).join("")}</ul>
      </div>

      <div class="section">
        <h4>ğŸ“Œ æƒ³ç›´æ¥é ç´„/å•è¨­è¨ˆå¸«ï¼Ÿ</h4>
        <div class="muted">é»ä¸‹é¢åŠ å…¥ ANH å®˜æ–¹ LINEï¼ŒæŠŠã€Œå»ºè­°çµæœã€è²¼çµ¦æˆ‘å€‘å°±èƒ½å¿«é€Ÿå®‰æ’ã€‚</div>
        <div style="margin-top:10px;">
          <a class="lineBtn" href="https://lin.ee/qzY4RIL" target="_blank" rel="noopener">
            <span class="lineDot"></span> åŠ å…¥å®˜æ–¹ LINEï¼ˆé ç´„/è©¢å•ï¼‰
          </a>
        </div>
      </div>
    `;

    $("out").innerHTML = html;

    // also store plain text for copy
    const plain = [
      "ã€ANH é«®å‹å»ºè­°å°å¹«æ‰‹ã€‘",
      `è†šè‰²ï¼š${skinMap[skin].title}`,
      `é«®æ³ï¼š${{healthy:"å¥åº·", dry:"ä¹¾ç‡¥", damaged:"å—æ"}[hairCond]}`,
      `é•·åº¦ï¼š${{short:"çŸ­é«®", medium:"ä¸­é•·", long:"é•·é«®"}[length]}`,
      `æ¼‚éï¼š${bleached==="yes"?"æœ‰æ¼‚é":"æ²’æ¼‚é"}`,
      `è‡‰å‹ï¼š${faceMap[face].title}`,
      `é¢¨æ ¼ï¼š${vibeMap[vibe].title}`,
      "",
      "âš ï¸ æ³¨æ„ï¼š",
      ...condR.warn.map(x=>" - "+x),
      ...condR.must.map(x=>" - "+x),
      "",
      "âœ‚ï¸ å‰ªé«®ï¼š",
      ...cutR.map(x=>" - "+x),
      "",
      "ğŸŒ€ ç‡™é«®ï¼š",
      ...permR.map(x=>" - "+x),
      "",
      "ğŸ¨ æŸ“é«®ï¼š",
      ...dyeR.map(x=>" - "+x),
      "",
      "ğŸ§´ ç¶­è­·ï¼š",
      ...maintR.map(x=>" - "+x),
      "",
      "åŠ å…¥å®˜æ–¹ LINEï¼šhttps://lin.ee/qzY4RIL"
    ].join("\n");

    window.__ANH_TEXT__ = plain;
  }

  $("go").addEventListener("click", buildResult);

  $("copyBtn").addEventListener("click", async ()=>{
    const text = window.__ANH_TEXT__ || "è«‹å…ˆæŒ‰ã€ŒæŸ¥çœ‹å»ºè­°ã€ç”¢ç”Ÿå…§å®¹";
    try{
      await navigator.clipboard.writeText(text);
      $("copyBtn").textContent = "å·²è¤‡è£½ âœ…ï¼ˆè²¼çµ¦å®¢äººå°±å¥½ï¼‰";
      setTimeout(()=> $("copyBtn").textContent = "ä¸€éµè¤‡è£½å»ºè­°ï¼ˆè²¼çµ¦å®¢äººï¼‰", 1400);
    }catch(e){
      alert("è¤‡è£½å¤±æ•—ï¼Œå¯èƒ½ç€è¦½å™¨æ¬Šé™é™åˆ¶ã€‚ä½ å¯ä»¥ç”¨æ»‘é¼ é¸å–çµæœæ–‡å­—å†è¤‡è£½ã€‚");
    }
  });

  // é è¨­å…ˆè·‘ä¸€æ¬¡ï¼Œé¿å…ä½ è¦ºå¾—ã€ŒæŒ‰äº†æ²’åæ‡‰ã€
  buildResult();
})();
</script>
</body>
</html>
